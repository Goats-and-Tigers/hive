{
  "version": 3,
  "sources": ["../../.pnpm/wasm-worker@0.4.0/node_modules/wasm-worker/es/actions.js", "../../.pnpm/wasm-worker@0.4.0/node_modules/wasm-worker/es/worker.js", "../../.pnpm/wasm-worker@0.4.0/node_modules/wasm-worker/es/utils.js", "../../.pnpm/wasm-worker@0.4.0/node_modules/wasm-worker/es/index.js", "dep:wasm-worker"],
  "sourcesContent": ["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar ACTIONS = {\n  COMPILE_MODULE: 0,\n  CALL_FUNCTION_EXPORT: 1,\n  RUN_FUNCTION: 2\n};\n\nexports[\"default\"] = ACTIONS;", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports['default'] = worker;\nfunction worker(e) {\n  var _e$data = e.data,\n      id = _e$data.id,\n      action = _e$data.action,\n      payload = _e$data.payload;\n\n\n  var sendMessage = function sendMessage(result, data) {\n    self.postMessage({\n      id: id,\n      action: action,\n      result: result,\n      payload: data\n    });\n  };\n\n  var onError = function onError(ex) {\n    return sendMessage(1, '' + ex);\n  };\n  var onSuccess = sendMessage.bind(null, 0);\n\n  if (action === ACTIONS.COMPILE_MODULE) {\n    Promise.resolve().then(function () {\n      var res = void 0;\n      if (getImportObject !== undefined) {\n        importObject = getImportObject();\n      }\n\n      if (typeof payload === 'string') {\n        res = fetch(payload);\n        if (WebAssembly.instantiateStreaming !== undefined) {\n          return WebAssembly.instantiateStreaming(res, importObject);\n        }\n        res = res.then(function (response) {\n          return response.arrayBuffer();\n        });\n      } else {\n        res = Promise.resolve(payload);\n      }\n\n      return res.then(function (buff) {\n        return WebAssembly.compile(buff);\n      }).then(function (module) {\n        return WebAssembly.instantiate(module, importObject).then(function (instance) {\n          return { module: module, instance: instance };\n        });\n      });\n    }).then(function (_ref) {\n      var module = _ref.module,\n          instance = _ref.instance;\n\n      moduleInstance = instance;\n\n      wasmModule = module;\n      onSuccess({\n        exports: WebAssembly.Module.exports(module).filter(function (exp) {\n          return exp.kind === 'function';\n        }).map(function (exp) {\n          return exp.name;\n        })\n      });\n    })['catch'](onError);\n  } else if (action === ACTIONS.CALL_FUNCTION_EXPORT) {\n    var func = payload.func,\n        params = payload.params;\n\n\n    Promise.resolve().then(function () {\n      var ctx = moduleInstance.exports;\n\n      onSuccess(ctx[func].apply(ctx, params));\n    })['catch'](onError);\n  } else if (action === ACTIONS.RUN_FUNCTION) {\n    var _func = payload.func,\n        _params = payload.params;\n\n\n    Promise.resolve().then(function () {\n      var fun = new Function('return ' + _func)();\n      onSuccess(fun({\n        module: wasmModule,\n        instance: moduleInstance,\n        importObject: importObject,\n        params: _params\n      }));\n    })['catch'](onError);\n  }\n}", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nvar getWasmSource = exports.getWasmSource = function getWasmSource(source) {\n  var result = source;\n\n  if (typeof result === 'string' && typeof location !== 'undefined') {\n    result = result.trim();\n    if (result.indexOf('/') === 0) {\n      result = location.origin + result;\n    } else if (result.indexOf('http') !== 0) {\n      result = location.href + (location.href[location.href.length - 1] === '/' ? '' : '/') + result;\n    }\n  }\n\n  return result;\n};", "'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nexports['default'] = wasmWorker;\n\nvar _actions = require('./actions');\n\nvar _actions2 = _interopRequireDefault(_actions);\n\nvar _worker = require('./worker');\n\nvar _worker2 = _interopRequireDefault(_worker);\n\nvar _utils = require('./utils');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { 'default': obj }; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _objectWithoutProperties(obj, keys) { var target = {}; for (var i in obj) { if (keys.indexOf(i) >= 0) continue; if (!Object.prototype.hasOwnProperty.call(obj, i)) continue; target[i] = obj[i]; } return target; }\n\nvar getTransferableParams = function getTransferableParams() {\n  var params = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  return params.filter(function (x) {\n    return x instanceof ArrayBuffer || x instanceof MessagePort || x instanceof ImageBitmap;\n  });\n};\n\nfunction wasmWorker(source) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n\n  var currentId = 0;\n  var promises = {};\n\n  var getImportObject = options.getImportObject,\n      otherOptions = _objectWithoutProperties(options, ['getImportObject']);\n\n  var worker = new Worker('data:,ACTIONS=' + JSON.stringify(_actions2['default']) + ';getImportObject=' + getImportObject + ';' + ('importObject=undefined;wasmModule=null;moduleInstance=null;onmessage=' + _worker2['default']), otherOptions);\n\n  worker.onmessage = function (e) {\n    var _e$data = e.data,\n        id = _e$data.id,\n        result = _e$data.result,\n        action = _e$data.action,\n        payload = _e$data.payload;\n\n\n    if (action === _actions2['default'].COMPILE_MODULE) {\n      if (result === 0) {\n        var exports = payload.exports;\n\n\n        promises[id][0]({\n          exports: exports.reduce(function (acc, exp) {\n            return _extends({}, acc, _defineProperty({}, exp, function () {\n              for (var _len = arguments.length, params = Array(_len), _key = 0; _key < _len; _key++) {\n                params[_key] = arguments[_key];\n              }\n\n              return new Promise(function () {\n                for (var _len2 = arguments.length, rest = Array(_len2), _key2 = 0; _key2 < _len2; _key2++) {\n                  rest[_key2] = arguments[_key2];\n                }\n\n                promises[++currentId] = rest;\n                worker.postMessage({\n                  id: currentId,\n                  action: _actions2['default'].CALL_FUNCTION_EXPORT,\n                  payload: {\n                    func: exp,\n                    params: params\n                  }\n                }, getTransferableParams(params));\n              });\n            }));\n          }, {}),\n          run: function run(func, params) {\n            return new Promise(function () {\n              for (var _len3 = arguments.length, rest = Array(_len3), _key3 = 0; _key3 < _len3; _key3++) {\n                rest[_key3] = arguments[_key3];\n              }\n\n              promises[++currentId] = rest;\n              worker.postMessage({\n                id: currentId,\n                action: _actions2['default'].RUN_FUNCTION,\n                payload: {\n                  func: func.toString(),\n                  params: params\n                }\n              }, getTransferableParams(params));\n            });\n          }\n        });\n      } else if (result === 1) {\n        promises[id][1](payload);\n      }\n    } else if (action === _actions2['default'].CALL_FUNCTION_EXPORT || action === _actions2['default'].RUN_FUNCTION) {\n      promises[id][result](payload);\n    }\n\n    promises[id] = null;\n  };\n\n  return new Promise(function () {\n    for (var _len4 = arguments.length, params = Array(_len4), _key4 = 0; _key4 < _len4; _key4++) {\n      params[_key4] = arguments[_key4];\n    }\n\n    promises[++currentId] = [].concat(params);\n\n    worker.postMessage({\n      id: currentId,\n      action: _actions2['default'].COMPILE_MODULE,\n      payload: (0, _utils.getWasmSource)(source)\n    });\n  });\n}", "export default require(\"./node_modules/.pnpm/wasm-worker@0.4.0/node_modules/wasm-worker/es/index.js\");"],
  "mappings": "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",
  "names": []
}
